{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst searchInput = document.getElementById('searchInput');\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader')\n\nfunction getSearchQueryFromLocalStorage() {\n    return localStorage.getItem('searchQuery') || '';\n}\nfunction saveSearchQueryToLocalStorage(query) {\n    localStorage.setItem('searchQuery', query);\n}\n\nfunction fillInputFromLocalStorage() {\n    const savedQuery = getSearchQueryFromLocalStorage();\n    searchInput.value = savedQuery;\n}\nfunction removeSearchQueryToLocalStorage(){\n    localStorage.removeItem('searchQuery')\n}\n\n\nfunction search(event) {\n    event.preventDefault();\n    removeSearchQueryToLocalStorage();\n\n    const apiKey = '41833958-d4e1402628473c9a9cbd6bb32';\n    const inputValue = searchInput.value.trim();\n\n    if (!inputValue) {\n        iziToast.warning({\n            message: \"Please enter a search query.\",\n        });\n        return;\n    }\n\n    const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n    loader.style.display = 'block';\n\n    fetch(apiUrl)\n        .then(response => response.json())\n        .then(images => { \n                if (images.hits.length === 0) {\n                iziToast.error({\n                    message: \"No images found. Please try again with a different search query.\",\n                });\n                return;\n            }\n\n            const imageHTML = images.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n                return `\n                <li class=\"gallery-item\">\n                    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                    </a>\n                    <div class=\"image-details\">\n                        <p>Likes </br> ${likes}</p>\n                        <p>Views </br>  ${views}</p>\n                        <p>Comments </br>  ${comments}</p>\n                        <p>Downloads </br>  ${downloads}</p>\n                    </div>\n                </li>`\n            }).join('');\n\n            gallery.innerHTML = imageHTML;\n            const lightbox = new SimpleLightbox('.gallery a');\n            lightbox.refresh();\n        })\n        .catch(() => {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n           })\n        })\n        .finally(() => {\n            loader.style.display = 'none';\n        });\n}\n\nfillInputFromLocalStorage();\nsearchInput.addEventListener('input', () => saveSearchQueryToLocalStorage(event.target.value));\nform.addEventListener('submit', search);"],"names":["form","searchInput","gallery","loader","getSearchQueryFromLocalStorage","saveSearchQueryToLocalStorage","query","fillInputFromLocalStorage","savedQuery","removeSearchQueryToLocalStorage","search","event","apiKey","inputValue","iziToast","apiUrl","response","images","imageHTML","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"wvBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAiC,CACtC,OAAO,aAAa,QAAQ,aAAa,GAAK,EAClD,CACA,SAASC,EAA8BC,EAAO,CAC1C,aAAa,QAAQ,cAAeA,CAAK,CAC7C,CAEA,SAASC,GAA4B,CACjC,MAAMC,EAAaJ,IACnBH,EAAY,MAAQO,CACxB,CACA,SAASC,GAAiC,CACtC,aAAa,WAAW,aAAa,CACzC,CAGA,SAASC,EAAOC,EAAO,CACnBA,EAAM,eAAc,EACpBF,IAEA,MAAMG,EAAS,qCACTC,EAAaZ,EAAY,MAAM,KAAI,EAEzC,GAAI,CAACY,EAAY,CACbC,EAAS,QAAQ,CACb,QAAS,8BACrB,CAAS,EACD,MACH,CAED,MAAMC,EAAS,gCAAgCH,OAAYC,4DAC3DV,EAAO,MAAM,QAAU,QAEvB,MAAMY,CAAM,EACP,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAU,CACR,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC9BH,EAAS,MAAM,CACX,QAAS,kEAC7B,CAAiB,EACD,MACH,CAED,MAAMI,EAAYD,EAAO,KAAK,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC9F;AAAA;AAAA,oDAE6BL;AAAA,0DACMD,WAAsBE;AAAA;AAAA;AAAA,yCAGvCC;AAAA,0CACCC;AAAA,6CACGC;AAAA,8CACCC;AAAA;AAAA,sBAGjC,EAAE,KAAK,EAAE,EAEVvB,EAAQ,UAAYgB,EACH,IAAIQ,EAAe,YAAY,EACvC,QAAO,CAC5B,CAAS,EACA,MAAM,IAAM,CACTZ,EAAS,MAAM,CACX,QAAS,0EACzB,CAAY,CACZ,CAAS,EACA,QAAQ,IAAM,CACXX,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAEAI,IACAN,EAAY,iBAAiB,QAAS,IAAMI,EAA8B,MAAM,OAAO,KAAK,CAAC,EAC7FL,EAAK,iBAAiB,SAAUU,CAAM"}